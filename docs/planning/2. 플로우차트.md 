# 면접 서비스 전체 플로우차트 (Mermaid)

아래는 **Mermaid 문법 기준**으로 정리된 플로우차트다.

Notion, GitHub, Mermaid Live Editor, draw.io(Mermaid 지원)에서 그대로 사용 가능하다.

---

## 1. 전체 사용자 플로우

```mermaid
flowchart TD
    A[Start] --> B[메인 진입]
    B --> C[내정보 - JD 설정]

    C -->|JD 미입력| C1[알림: JD 필수]
    C1 --> C

    C -->|JD 입력 완료| D[면접 설정]

    D --> D1[면접 유형 선택<br/>1:1 / 다:1 / 다:다]
    D --> D2[면접 목적 선택<br/>기술 / 인성 / 상황]
    D --> D3[면접관 유형 선택<br/>기본 / 압박 / 유연]

    D1 --> E[면접 시작]
    D2 --> E
    D3 --> E

    E --> F[질문 생성]
    F --> F1[JD 기반 질문]
    F --> F2[목적 비율 기반 분배]
    F --> F3[반구조화 질문]

    F1 --> G
    F2 --> G
    F3 --> G

    G[질문 루프] --> H[질문 출력]
    H --> I[면접자 답변]

    I -->|텍스트| J[텍스트 처리]
    I -->|음성| K[STT 처리]

    J --> L[답변 평가<br/>비가시]
    K --> L

    L --> M{꼬리질문 발생?}
    M -->|Yes| N[꼬리질문<br/>최대 2회]
    N --> I

    M -->|No| O{질문 수 < 8?}
    O -->|Yes| H
    O -->|No| P[면접 종료]

    P --> Q[면접 결과 생성]
    Q --> Q1[질문별 점수]
    Q --> Q2[항목별 점수]
    Q --> Q3[총점 계산]
    Q --> Q4[종합 피드백]

    Q1 --> R[면접 결과 화면]
    Q2 --> R
    Q3 --> R
    Q4 --> R

    R --> S[면접 이력 저장]
    S --> T[End]

```

---

## 2. 다:다 면접 특이 플로우

```mermaid
flowchart TD
    A[질문 제시] --> B{면접자 답변?}

    B -->|Yes| C[면접자 답변]
    C --> D[면접관 평가]
    D --> E[다음 질문]

    B -->|AI 면접자 요청| F[AI 면접자 답변]
    F --> G[면접자에게 답변 요청]
    G --> C

```

**규칙**

- AI 면접자 답변은 평가 대상 아님
- AI 면접자 답변에는 꼬리질문 없음
- AI 면접자 답변 단계는 질문 수 미포함

---

## 3. 반구조화 질문 내부 플로우

```mermaid
flowchart TD
    A[기본 질문] --> B[면접자 답변]
    B --> C{질문 의도 부합?}

    C -->|No| F[다음 질문]

    C -->|Yes| D{추가 탐색 포인트?}
    D -->|No| F
    D -->|Yes| E[꼬리질문]
    E --> B

```

---

## 4. 데이터 저장 시점 플로우

```mermaid
flowchart TD
    A[질문 종료] --> B[질문별 평가 저장]
    B --> C[면접 종료]
    C --> D[결과 집계]
    D --> E[면접 이력 단건 저장]

```